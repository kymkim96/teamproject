<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="books">
	<select id="selectByPk" parameterType="string" resultType="book">
		
		select *
		from books
		where ISBN=#{bookIsbn}
	
	</select>
	
	<select id="selectByCn" parameterType="string" resultType="book">
		
	</select>
	
	<insert id="insert" parameterType="book">
		<if test="bimgFilename == null">
			insert into books
			(isbn, btitle, bsub_title, bpublisher, btranslator, bpublish_date,
			 bbestseller, bprice, bdiscount, bdelivery_fee, bcontent, bindex,
			 bimg_link, bstate, bvideo_link, categories_category_name)
			values
			(#{isbn}, #{btitle}, #{bsubTitle}, #{bpublisher}, #{btranslator}, 
			#{bpublishDate}, #{bbestSeller}, #{bprice}, #{bdiscount}, #{bdeliveryFee}, 
			#{bcontent}, #{bindex}, #{bimgLink}, #{bstate}, #{bvideoLink}, #{categoriesCategoryName})
		</if>
		
		<if test="bimgFilename != null">
			insert into books
			(isbn, btitle, bsub_title, bpublisher, btranslator, bpublish_date,
			 bbestseller, bprice, bdiscount, bdelivery_fee, bcontent, bindex,
			 bimg_filename, bcontent_type, bstate, bvideo_link, categories_category_name)
			values
			(#{isbn}, #{btitle}, #{bsubTitle}, #{bpublisher}, #{btranslator}, 
			#{bpublishDate}, #{bbestSeller}, #{bprice}, #{bdiscount}, #{bdeliveryFee}, 
			#{bcontent}, #{bindex}, #{bimgFilename}, #{bcontentType}, #{bstate}, 
			#{bvideoLink}, #{categoriesCategoryName})
		</if>
	</insert>
</mapper>